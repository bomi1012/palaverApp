<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:a4j="http://richfaces.org/a4j" xmlns:p="http://primefaces.org/ui">

<h:body>

	<h:form id="hallo">

		<div class="span16">
			<div class="span7">
				<div class="box">
					<div class="box-header">
						<i class="fa fa-pencil fa-2x"></i>
						<h5>Information</h5>
					</div>
					<div class="box-content">
						<h:panelGrid columns="2" cellpadding="5">
							<h:outputLabel value="Bezeichnung* :"
								styleClass="information-block" />
							<h:inputText id="receptNameId" title="recipe" style="width:207px"
								value="#{recipeBean.recipe.name}" />
						
							<h:outputLabel value="Rezeptart:" styleClass="information-block" />
							<h:selectOneMenu value="#{recipeBean.selectedType}"
								id="recipeTypeId" converter="recipeTypeConverter">
								<f:selectItems value="#{recipeBean.recipeTypeList}" var="type"
									itemValue="#{type}" itemLabel="#{type.name}" />
							</h:selectOneMenu>

							<h:outputLabel value="Kommentar:" styleClass="information-block" />
							<p:inputTextarea rows="5" cols="40" counter="counter" value="#{recipeBean.recipe.comment}"
								maxlength="255" counterTemplate="{0} characters remaining." />

							<h:outputText />
							<h:outputText id="counter" />
						</h:panelGrid>

					</div>
				</div>
			</div>



			<div class="span8">

				<div class="box">
					<div class="box-header">
						<i class="fa fa-retweet fa-2x"></i>
						<h5>Zubereitung</h5>
					</div>
					<div class="box-content">

						<p:pickList id="pickList" value="#{recipeBean.preparationList}"
							converter="preparationConverter" var="preparation"
							itemLabel="#{preparation.name}" itemValue="#{preparation}" />

					</div>
				</div>

			</div>
		</div>

		<div class="span16">
			<div class="span10" id="selected">
				<p:outputPanel id="dropArea">
					<p:dataTable id="table_dropped" var="recipe"
						value="#{recipeBean.recipeItemList}"
						styleClass="table table-hover test">

						<p:column headerText="Artikelname">
							<h:outputText value="#{recipe.article.name}"
								styleClass="vertical-center" />
						</p:column>


						<p:column headerText="Menge">
							<p:spinner id="quantity_id" value="#{recipe.quantity}"
								stepFactor="0.25" min="0.0" />
						</p:column>

						<p:column headerText="Mengeneinheit">
							<h:outputText value="#{recipe.article.quantityUnit.name}" />
						</p:column>

					</p:dataTable>
				</p:outputPanel>
			</div>
			<!-- Table 2 -->
			<div class="span5" id="produkts">
				<p:dataTable id="availableCars" var="article"
					value="#{recipeBean.availableArticles}"
					styleClass="table table-hover" scrollable="true" scrollHeight="400">
					<p:column style="width:10px">
						<h:outputText id="dragIcon" styleClass="ui-icon ui-icon-arrow-4" />
						<p:draggable for="dragIcon" revert="true" />
					</p:column>
					<p:column headerText="Nummer" width="30%">
						<h:outputText value="#{article.number}" />
					</p:column>
					<p:column headerText="Name" width="70%">
						<h:outputText value="#{article.name}" />
					</p:column>
				</p:dataTable>
			</div>
			<p:droppable for="dropArea" datasource="availableCars"
				activeStyleClass="ui-state-highlight" tolerance="touch">
				<p:ajax listener="#{recipeBean.onDrop}"
					update="availableCars table_dropped" onDrop="handleDrop" />
			</p:droppable>
		</div>

		<p:commandButton type="submit" value="Speichern"
			actionListener="#{recipeBean.testButtonActionListener}"
			styleClass="btn btn-primary rigth" />
	</h:form>
</h:body>

</html>